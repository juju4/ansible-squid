---

scriptsdir: /usr/local/scripts
squidconf_template: squid.conf.j2

# Do you want to keep query strings? have privacy consequence.
squid_log_querystrings: true
# Can support privacy/anonymity but goes against RFC 7230, 5.7.1
squid_via_disable: false

# Don't mix /var/log/squid (logs directly written by squid as proxy user) and rsyslog logs (written by rsyslog as root/syslog user)
squid_syslog_target: /var/log/squid.log

squid_cache_admin_email: squidadmin@localhost.local
squid_customlog_path: /var/log/squid/access_custom.log

# source IP and subnets allowed to connect (outside of private networks)
squid_allowed_clients: []

squid_filter_ads: true

squid_splash_enable: false
squid_splash_template: splash.php.j2
squid_splash_url: http://localhost/splash.php
squid_splash_timeout: 7200

squid_testing: false

# require distribution where squid compiled with ssl (ok centos, nok ubuntu)
squid_https: false
squid_certinfo: '/C=US/ST=CA/L=San Francisco/O=Ansible for squid'
squid_certduration: 1095
squid_noproxy_domains_template: no-proxy-domains.conf
squid_noproxy_ips_template: no-proxy-ips.conf

## only packaged in ubuntu xenial, debian jessie, epel: squidguard, dansguardian
##	centos6: no dansguardian, only squidGuard
##      19.04+: e2guardian
## https://blog.rootshell.be/2011/01/18/url-filtering-with-squid/
## http://dsi.ut-capitole.fr/blacklists/
squid_urlfiltering_enable: true
squid_urlfiltering_tool: dansguardian
squid_dansguardian_filterip: 127.0.0.1
squid_dansguardian_deniedaddress: 'http://localhost/cgi-bin/dansguardian.pl'
squid_dansguardian_proxyip: 127.0.0.1
squid_dansguardian_language: 'ukenglish'
## 0 = none  1 = just denied  2 = all text based  3 = all requests
squid_dansguardian_loglevel: 3
squid_dansguardian_clamd: false
squid_dansguardian_template:
  - { re: 'YOUR ORG NAME', rep: 'Company Example.com' }

# http://www.squid-cache.org/Misc/log-analysis.html
squid_report_pkgs:
  - calamaris
  - sarg

squid_calamaris_enable: true
squid_calamaris_dirs:
  - /var/www/calamaris/daily
  - /var/www/calamaris/weekly
  - /var/www/calamaris/monthly
# action can be: nothing, mail, web, both
squid_calamaris_cron_conf:
    - { re: '^daily:.*', rep: "daily:root:/var/www/calamaris/daily/index.html:mail:'Squid daily'" }
    - { re: '^weekly:.*', rep: "weekly:root:/var/www/calamaris/weekly/index.html:mail:'Squid weekly'" }
    - { re: '^monthly:.*', rep: "monthly:root:/var/www/calamaris/monthly/index.html:mail:'Squid monthly'" }

squid_cgroups_restriction_enable: true
squid_systemd_restriction_enable: false

orchestrator_files_archives: files
